<script>
  import store from '/assets/js/store.js'

  function setup() {
    store.subscribe(this, ['media'])
  }
</script>

<style>
  article>section:not(:first-of-type) {
    margin-top: 2rem;
  }

  .card-overview {
    max-width: 300px;
  }

  .card-overview small {
    color: var(--sl-color-neutral-500);
  }

  .card-overview [slot='footer'] {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .card-overview p {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    background: #fff;
  }

  sl-card {
    margin-right: 1rem;
  }

</style>

<template>
  <article class="block">
    <h1>Available Audios And Videos</h1>

    <section>
      <h2>Watch The Know Yourself Videos Series</h2>
      <sl-card class="card-overview" :for="item in state.media.videos">
        <img slot="image"
          src="https://images.unsplash.com/photo-1559209172-0ff8f6d49ff7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80"
          alt="A kitten sits patiently between a terracotta pot and decorative grasses." width="300" />
        <strong>${ item.title }</strong><br />
        <p>${ item.description }</p>

        <div slot="footer">
          <sl-button variant="primary" pill href="/video/${item.id}">Play</sl-button>
        </div>
      </sl-card>
    </section>

    <section>
      <h2>Listen To The Know Yourself Audio Series</h2>
      <sl-card class="card-overview" :for="item in state.media.audios">
        <img slot="image"
          src="https://images.unsplash.com/photo-1559209172-0ff8f6d49ff7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80"
          alt="A kitten sits patiently between a terracotta pot and decorative grasses." width="300" />
        <strong>${ item.title }</strong><br />
        <p>${ item.description }</p>

        <div slot="footer">
          <sl-button variant="primary" pill href="/audio/${item.id}">Play</sl-button>
        </div>
      </sl-card>
    </section>
  </article>
</template>
